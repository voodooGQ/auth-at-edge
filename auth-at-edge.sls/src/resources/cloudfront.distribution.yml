Type: AWS::CloudFront::Distribution
Properties:
  DistributionConfig:
    Enabled: true
    DefaultCacheBehavior:
      Compress: true
      ForwardedValues:
        QueryString: true
      TargetOriginId: protected-bucket
      ViewerProtocolPolicy: redirect-to-https
    Origins:
    - DomainName: !Join
      - '.'
      - - !Ref S3Bucket
        - 's3.amazonaws.com'
      Id: protected-bucket
      S3OriginConfig:
        OriginAccessIdentity: !Join
          - '/'
          - - 'origin-access-identity'
            - 'cloudfront'
            - !Ref CloudFrontOriginAccessIdentity
    - DomainName: example.org
      Id: dummy-origin
      CustomOriginConfig:
        OriginProtocolPolicy: match-viewer
